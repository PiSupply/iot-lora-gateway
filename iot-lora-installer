#!/usr/bin/env python3

#IOT LoRa Installer
#By Ryan Walmsley
#This file downloads the current software for the LoRa Gateway Packet Forwarder By Kersing and installs it on your Raspberry Pi
#At the same time it also enables SPI, Installs a service to automatically start it on boot, a configuration script and
#Sets the core clock to a fixed frequency which fixes bugs on Models 3B & 3B+

#This Software is designed to be run on a Vanilla installation of Raspbian! We cannot gaurantee that it will not break Other
#Software you are running on your Raspberry Pi.

##Imports!
from time import sleep
import os, sys
##End imports

##START
print ('''

  ___ ___ _____   _        ___         ___      _
 |_ _/ _ \_   _| | |   ___| _ \__ _   / __|__ _| |_ _____ __ ____ _ _  _
  | | (_) || |   | |__/ _ \   / _` | | (_ / _` |  _/ -_) V  V / _` | || |
 |___\___/ |_|   |____\___/_|_\__,_|  \___\__,_|\__\___|\_/\_/\__,_|\_, |
                                                                    |__/

This script will install the software required to get your Pi Supply
IoT Lora Gateway HAT Up and running with The Things Network
The script will automatically continue in 10 seconds. If you are not happy press Control + C to quit.
''')
sleep(10)

##TODO
##We need to check which system this is running on

#Set variable model to
#Expected results:
#RPi : Raspberry
#Odroid C2:
#Tinkerboard:
#Unknown: 42

try:
    dtModel = open('/proc/device-tree/model','r')
except:
    print("Device Tree directory not found, this is likely because you are running this program on a normal computer or a non supported SBC")
    exit()
modelUsed = dtModel.read().split(" ")[0]
print ("Detected SBC: %s" %modelUsed)







#File end
